<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Thi·ªáp 20/11 - Ch√∫c m·ª´ng Ng√†y Nh√† Gi√°o</title>
  <style>
    :root{--bg:#ffc0d3;--card:#fff4f6;--accent:#d95d7b}
    *{box-sizing:border-box}
    body{margin:0;min-height:100vh;display:flex;align-items:center;justify-content:center;background:var(--bg);font-family:Inter, Poppins, system-ui, sans-serif;color:#222}
    .stage{position:relative;width:min(960px,96vw);height:min(780px,86vh);display:flex;align-items:center;justify-content:center}

    .heart-svg{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:95%;height:95%;pointer-events:none}

    .card{position:relative;z-index:2;width:66%;max-width:560px;padding:28px 30px;border-radius:18px;background:var(--card);box-shadow:0 12px 36px rgba(0,0,0,0.12);transform:rotate(-6deg)}
    .card h2{margin:0 0 12px;font-size:1.6rem;color:var(--accent);letter-spacing:0.6px}
    .meta{color:#3b2b30;margin-bottom:8px}
    .card p{margin:8px 0;color:#3b2b30;line-height:1.45}
    .card .center{text-align:center;margin-top:12px;font-weight:700}

    .paper-behind{position:absolute;z-index:1;width:62%;max-width:500px;height:72%;background:white;border-radius:16px;transform:translate(-6%,4%) rotate(8deg);box-shadow:0 6px 20px rgba(0,0,0,0.18)}

    .float-heart{position:absolute;font-size:22px;opacity:0.95;filter:drop-shadow(0 3px 6px rgba(0,0,0,0.12));z-index:3;animation:floatUp linear infinite}
    @keyframes floatUp{0%{transform:translateY(0) scale(0.9);opacity:1}100%{transform:translateY(-220px) scale(1.4);opacity:0}}

    /* Typewriter styles */
    .type-wrap{display:block;position:relative}
    .cursor{display:inline-block;width:2px;background:#3b2b30;margin-left:6px;animation:blink 0.7s step-end infinite;height:1.05em;vertical-align:middle}
    @keyframes blink{50%{opacity:0}}

    /* controls */
    .controls{display:flex;gap:8px;align-items:center;margin-top:12px}
    select, button{padding:8px 10px;border-radius:8px;border:1px solid rgba(0,0,0,0.08);background:white}
    button{cursor:pointer}

    /* list all modal */
    .modal{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);background:white;padding:18px;border-radius:12px;box-shadow:0 12px 40px rgba(0,0,0,0.2);max-width:720px;width:86%;max-height:78vh;overflow:auto;z-index:999;display:none}
    .modal h3{margin-top:0}
    .modal .close{float:right;cursor:pointer}

    /* floating icons (hearts/books) */
    .floating{position:absolute;animation:floatUp 6s linear infinite;opacity:0.9;font-size:26px;pointer-events:none}
    .h1{left:8%;bottom:6%;animation-delay:0s}
    .h2{left:48%;bottom:4%;animation-delay:1.2s}
    .h3{left:82%;bottom:8%;animation-delay:2.4s}
    .b1{left:18%;bottom:16%;animation-delay:0.6s}
    .b2{left:64%;bottom:14%;animation-delay:1.9s}
    .b3{left:74%;bottom:22%;animation-delay:3.1s}

    @media (prefers-reduced-motion: reduce){.float-heart,.floating{display:none}.cursor{display:none}}
    @media (max-width:640px){.card{width:86%;padding:18px}.paper-behind{display:none}}

    .footer-note{margin-top:10px;text-align:center;font-size:0.95rem;color:#5a4a50}
  </style>
</head>
<body>
  <div class="stage">
    <div class="paper-behind" aria-hidden="true"></div>

    <article class="card" aria-label="Thi·ªáp ch√∫c m·ª´ng">
      <h2><span id="heading"></span><span class="cursor" id="cursor-h"></span></h2>

      <div id="messageArea">
        <p class="type-wrap"><span id="p1"></span><span class="cursor" id="c1"></span></p>
        <p class="type-wrap"><span id="p2"></span><span class="cursor" id="c2"></span></p>
        <p class="type-wrap"><span id="p3"></span><span class="cursor" id="c3"></span></p>
        <p class="type-wrap"><span id="p4"></span><span class="cursor" id="c4"></span></p>
        <p class="center type-wrap"><span id="p5"></span><span class="cursor" id="c5"></span></p>
      </div>

      <div class="controls">
        <label for="pick">Ch·ªçn l·ªùi ch√∫c:</label>
        <select id="pick"></select>
        <button id="randomBtn">Quay 1 c√¢u ng·∫´u nhi√™n</button>
        <button id="showAllBtn">Xem t·∫•t c·∫£ l·ªùi ch√∫c</button>
      </div>

      <div class="footer-note">
        <small>T·∫≠p th·ªÉ l·ªõp 12a2 THPT C√°t Ti√™n k√≠nh t·∫∑ng th·∫ßy c√¥</small>
      </div>
    </article>

    <!-- Heart SVG with top arc text -->
    <svg class="heart-svg" viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="H√¨nh tr√°i tim">
      <defs>
        <path id="heartPath" d="M300 520 C 150 420, 40 300, 150 200 C 230 130, 320 170, 300 230 C 280 170, 370 130, 450 200 C 560 300, 450 420, 300 520 Z" />
        <path id="topArc" d="M150 210 C 220 120, 380 120, 450 210" fill="none" />
      </defs>
      <use href="#heartPath" fill="rgba(255,235,238,0.14)" stroke="rgba(255,255,255,0.06)" stroke-width="2" />
      <use href="#heartPath" fill="none" stroke="rgba(255,100,150,0.22)" stroke-width="6" stroke-linecap="round" stroke-linejoin="round" />
      <text font-size="20" font-family="Poppins, Inter, sans-serif" text-anchor="middle" fill="#ffdce4">
        <textPath href="#topArc" startOffset="50%">Ch√∫c m·ª´ng Ng√†y Nh√† gi√°o Vi·ªát Nam 20/11</textPath>
      </text>
    </svg>

    <!-- floating decorations -->
    <div class="floating h1">‚ù§Ô∏è</div>
    <div class="floating h2">üíñ</div>
    <div class="floating h3">üíï</div>
    <div class="floating b1">üìò</div>
    <div class="floating b2">üìï</div>
    <div class="floating b3">üìó</div>

  </div>

  <!-- modal for showing all messages -->
  <div class="modal" id="modal">
    <span class="close" id="modalClose">‚úñ</span>
    <h3>Danh s√°ch 10 l·ªùi ch√∫c</h3>
    <ol id="allList"></ol>
  </div>

  <script>
    // 10 sample messages (m·ªói ph·∫ßn l√† 5 ƒëo·∫°n: heading + 4 parag + footer)
    const messages = [
      {
        title: 'L·ªùi ch√∫c 1',
        lines: [
          'H√¥m nay l√† ng√†y 20/11, ng√†y ƒë·∫∑c bi·ªát ƒë·ªÉ ch√∫ng em g·ª≠i l·ªùi tri √¢n ƒë·∫øn th·∫ßy c√¥ ‚Äì nh·ªØng ng∆∞·ªùi t·∫≠n t√¢m d√¨u d·∫Øt ch√∫ng em tr√™n con ƒë∆∞·ªùng tri th·ª©c.',
          'C·∫£m ∆°n th·∫ßy c√¥ v√¨ nh·ªØng b√†i h·ªçc, nh·ªØng l·ªùi khuy√™n v√† c·∫£ nh·ªØng quan t√¢m gi·∫£n d·ªã m·ªói ng√†y.',
          'Ch√∫c th·∫ßy c√¥ lu√¥n vui v·∫ª, m·∫°nh kh·ªèe v√† th·∫≠t h·∫°nh ph√∫c b√™n h·ªçc tr√≤ th√¢n y√™u c·ªßa m√¨nh.',
          'Th·∫ßy c√¥ l√† ng·ªçn ƒë√®n soi s√°ng, l√† ng∆∞·ªùi truy·ªÅn c·∫£m h·ª©ng cho ch√∫ng em c·ªë g·∫Øng t·ª´ng ng√†y.'
        ]
      },
      {
        title: 'L·ªùi ch√∫c 2',
        lines: [
          'Th·∫ßy/c√¥ l√† ng∆∞·ªùi ƒë√£ gi√∫p ch√∫ng em ‚Äún√¢ng c·∫•p t∆∞ duy‚Äù, kh·∫Øc ph·ª•c ‚Äúl·ªói ki·∫øn th·ª©c‚Äù v√† truy·ªÅn cho ch√∫ng em ƒë·ªông l·ª±c m·ªói ng√†y.',
          'D√π ƒë√¥i l√∫c ch√∫ng em h∆°i ·ªìn, h∆°i l∆∞·ªùi, nh∆∞ng th·∫ßy/c√¥ v·∫´n ki√™n tr√¨ nh∆∞ m·ªôt phi√™n b·∫£n AI kh√¥ng bao gi·ªù m·ªát m·ªèi.',
          'C·∫£m ∆°n th·∫ßy/c√¥ v√¨ ƒë√£ cho ch√∫ng em nhi·ªÅu b√†i h·ªçc qu√Ω gi√°, c·∫£ tr√™n l·ªõp l·∫´n trong cu·ªôc s·ªëng.',
          'Ch√∫c th·∫ßy/c√¥ 20/11 th·∫≠t nhi·ªÅu ni·ªÅm vui, s·ª©c kh·ªèe v√† lu√¥n gi·ªØ ƒë∆∞·ª£c ‚Äúb·ªô nh·ªõ h·∫°nh ph√∫c ƒë·∫ßy ·∫Øp‚Äù.'
        ]
      },
      {
        title: 'L·ªùi ch√∫c 3',
        lines: [
          'C√≥ l·∫Ω ch√∫ng em kh√¥ng n√≥i nhi·ªÅu, nh∆∞ng trong l√≤ng m·ªói ƒë·ª©a ƒë·ªÅu bi·∫øt ∆°n th·∫ßy/c√¥ v√¥ c√πng.',
          'T·ª´ng l·ªùi nh·∫Øc nh·ªü, t·ª´ng s·ª± quan t√¢m th·∫ßy/c√¥ d√†nh cho ch√∫ng em ƒë·ªÅu ch·ª©a ƒë·ª±ng m·ªôt t√¨nh th∆∞∆°ng r·∫•t ·∫•m √°p.',
          'Th·∫ßy/c√¥ kh√¥ng ch·ªâ d·∫°y ch·ªØ, m√† c√≤n ch·∫°m ƒë·∫øn tr√°i tim c·ªßa ch√∫ng em b·∫±ng s·ª± ch√¢n th√†nh.',
          'Nh√¢n ng√†y Nh√† gi√°o Vi·ªát Nam, ch√∫c th·∫ßy/c√¥ lu√¥n kh·ªèe m·∫°nh, an y√™n v√† ƒë∆∞·ª£c nh·∫≠n l·∫°i th·∫≠t nhi·ªÅu y√™u th∆∞∆°ng t·ª´ h·ªçc tr√≤.'
        ]
      },
      {
        title: 'L·ªùi ch√∫c 4',
        lines: [
          'C√≥ nh·ªØng l√∫c ch√∫ng em l√†m th·∫ßy/c√¥ lo l·∫Øng, c√≥ l√∫c khi·∫øn th·∫ßy/c√¥ m·ªát l√≤ng, v·∫≠y m√† th·∫ßy/c√¥ v·∫´n lu√¥n d·ªãu d√†ng ·ªü b√™n c·∫°nh.',
          'Th·∫ßy/c√¥ ki√™n nh·∫´n d·∫°y b·∫£o t·ª´ng ch√∫t m·ªôt, v√† ch√∫ng em bi·∫øt ∆°n v√¨ ƒëi·ªÅu ƒë√≥.',
          'Nh·ªØng b√†i h·ªçc c·ªßa th·∫ßy/c√¥ kh√¥ng ch·ªâ gi√∫p ch√∫ng em gi·ªèi h∆°n, m√† gi√∫p ch√∫ng em s·ªëng t·ªët h∆°n.',
          'Ch√∫c th·∫ßy/c√¥ 20/11 th·∫≠t h·∫°nh ph√∫c, lu√¥n ƒë∆∞·ª£c bao quanh b·ªüi s·ª± k√≠nh tr·ªçng v√† t√¨nh th∆∞∆°ng c·ªßa h·ªçc tr√≤.'
        ]
      },
      {
        title: 'L·ªùi ch√∫c 5',
        lines: [
          'Th·∫ßy/c√¥ l√† ng∆∞·ªùi ƒë√£ ·ªü b√™n ch√∫ng em trong nh·ªØng l√∫c b·ªëi r·ªëi nh·∫•t.',
          'Th·∫ßy/c√¥ nh·∫π nh√†ng ch·ªâ l·ªëi v√† ti·∫øp th√™m ni·ªÅm tin ƒë·ªÉ ch√∫ng em b∆∞·ªõc ti·∫øp.',
          'M·ªói ti·∫øt d·∫°y ƒë·ªÅu mang theo s·ª± t·∫≠n t√¢m v√† t√¨nh th∆∞∆°ng v√¥ c√πng ·∫•m √°p.',
          'Ch√∫c th·∫ßy/c√¥ ng√†y 20/11 th·∫≠t b√¨nh y√™n, r·∫°ng r·ª° v√† ng·∫≠p tr√†n ni·ªÅm vui.'
        ]
      },
      {
        title: 'L·ªùi ch√∫c 6',
        lines: [
          'Ch√∫ng em may m·∫Øn khi c√≥ th·∫ßy/c√¥ lu√¥n ƒë·ªìng h√†nh v√† n√¢ng ƒë·ª° b·∫±ng t·∫•t c·∫£ t·∫•m l√≤ng.',
          'Th·∫ßy/c√¥ kh√¥ng ch·ªâ cho ch√∫ng em ki·∫øn th·ª©c, m√† c√≤n cho ch√∫ng em c·∫£m gi√°c an t√¢m m·ªói khi b∆∞·ªõc v√†o l·ªõp.',
          'Nh·ªØng ƒëi·ªÅu th·∫ßy/c√¥ d·∫°y ƒë√£ ch·∫°m v√†o tr√°i tim ch√∫ng em theo c√°ch r·∫•t ƒë·∫∑c bi·ªát.',
          'Ch√∫c th·∫ßy/c√¥ lu√¥n m·∫°nh kh·ªèe, h·∫°nh ph√∫c v√† ƒë∆∞·ª£c ƒë√≥n nh·∫≠n th·∫≠t nhi·ªÅu t√¨nh c·∫£m ch√¢n th√†nh.'
        ]
      },
      {
        title: 'L·ªùi ch√∫c 7',
        lines: [
          'Th·∫ßy/c√¥ lu√¥n l√† ng∆∞·ªùi hi·ªÉu ch√∫ng em ngay c·∫£ khi ch√∫ng em kh√¥ng k·ªãp n√≥i ra ƒëi·ªÅu m√¨nh nghƒ©.',
          'Nh·ªù s·ª± th·∫•u hi·ªÉu v√† ƒë·ªông vi√™n c·ªßa th·∫ßy/c√¥, ch√∫ng em c·∫£m th·∫•y ƒë∆∞·ª£c ti·∫øp th√™m s·ª©c m·∫°nh m·ªói ng√†y.',
          'Nh·ªØng g√¨ th·∫ßy/c√¥ d√†nh cho ch√∫ng em l√† ƒëi·ªÅu v√¥ c√πng tr√¢n tr·ªçng.',
          'Ch√∫c th·∫ßy/c√¥ 20/11 th·∫≠t ·∫•m √°p, ng·∫≠p tr√†n n·ª• c∆∞·ªùi v√† ni·ªÅm vui.'
        ]
      },
      {
        title: 'L·ªùi ch√∫c 8',
        lines: [
          'Th·∫ßy/c√¥ ƒë√£ cho ch√∫ng em h∆°n c·∫£ ki·∫øn th·ª©c ‚Äì ƒë√≥ l√† ni·ªÅm tin v√† ƒë·ªông l·ª±c m·ªói khi v·∫•p ng√£.',
          'C√≥ nh·ªØng l·ªùi d·∫°y ƒë·∫øn sau n√†y l·ªõn l√™n ch√∫ng em m·ªõi th·∫≠t s·ª± hi·ªÉu.',
          'C·∫£m ∆°n th·∫ßy/c√¥ v√¨ ƒë√£ nh√¨n th·∫•y ƒëi·ªÅu t·ªët ƒë·∫πp trong ch√∫ng em ngay c·∫£ khi ch√≠nh ch√∫ng em ch∆∞a th·∫•y.',
          'Ch√∫c th·∫ßy/c√¥ lu√¥n m·∫°nh kh·ªèe v√† c√≥ th·∫≠t nhi·ªÅu ni·ªÅm vui tr√™n h√†nh tr√¨nh gieo y√™u th∆∞∆°ng.'
        ]
      }
    ];

    // populate select and modal list
    const pick = document.getElementById('pick');
    const allList = document.getElementById('allList');
    messages.forEach((m, idx) => {
      const opt = document.createElement('option'); opt.value = idx; opt.text = m.title; pick.appendChild(opt);
      const li = document.createElement('li'); li.innerText = m.title + ' ‚Äî ' + m.lines.join(' '); allList.appendChild(li);
    });

    // DOM refs for typing
    const ids = ['heading','p1','p2','p3','p4','p5'];
    const cfg = {charDelay: 28, paragraphDelay: 420};
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    function showMessageByIndex(i){
      const msg = messages[i];
      const content = {
        heading: msg.title,
        p1: msg.lines[0]||'', p2: msg.lines[1]||'', p3: msg.lines[2]||'', p4: msg.lines[3]||'', p5: '‚ù§Ô∏è Ch√∫c m·ª´ng Ng√†y Nh√† gi√°o Vi·ªát Nam 20/11 ‚ù§Ô∏è'
      };
      if(prefersReduced){
        ids.forEach(k=>document.getElementById(k).innerText = content[k]);
        // hide cursors
        document.querySelectorAll('.cursor').forEach(c=>c.style.visibility='hidden');
      } else {
        // clear first
        ids.forEach(k=>document.getElementById(k).innerText = '');
        document.querySelectorAll('.cursor').forEach(c=>c.style.visibility='visible');
        // type sequentially
        (async function(){
          for(let idx=0; idx<ids.length; idx++){
            const el = document.getElementById(ids[idx]);
            const text = content[ids[idx]] || '';
            await typeInto(el, text, cfg.charDelay);
            const cur = (idx===0)?document.getElementById('cursor-h'):document.getElementById('c'+idx);
            if(cur){ await new Promise(r=>setTimeout(r,120)); cur.style.visibility='hidden'; }
            if(idx>0) await new Promise(r=>setTimeout(r,cfg.paragraphDelay));
          }
        })();
      }
    }

    function typeInto(el, text, delay){
      return new Promise(resolve => {
        let i=0; function step(){ if(i<=text.length){ el.innerText = text.slice(0,i); i++; setTimeout(step, delay);} else resolve(); } step();
      });
    }

    // random on load
    function randomPick(){ const idx = Math.floor(Math.random()*messages.length); pick.value = idx; showMessageByIndex(idx); }
    document.getElementById('randomBtn').addEventListener('click', randomPick);
    pick.addEventListener('change', ()=> showMessageByIndex(parseInt(pick.value,10)));

    // modal
    const modal = document.getElementById('modal');
    document.getElementById('showAllBtn').addEventListener('click', ()=> modal.style.display='block');
    document.getElementById('modalClose').addEventListener('click', ()=> modal.style.display='none');
    window.addEventListener('click', e=> { if(e.target === modal) modal.style.display='none'; });

    // init
    randomPick();

    // EFFECT MAPPING
const effectMap = {
  1: ['A','E'],
  2: ['B','C'],
  3: ['D','F'],
  4: ['A','F'],
  5: ['D','B'],
  6: ['A','B'],
  7: ['B','F'],
  8: ['F','E']
};

// floating decorations
    function spawnFloating(){ /* already handled via CSS animated divs */ }
  </script>
</body>
</html>
